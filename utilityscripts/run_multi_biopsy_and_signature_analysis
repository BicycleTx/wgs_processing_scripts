#!/bin/bash

script=$( basename $0 )
usage() {
    echo "---"
    echo "Usage: $script -p patientId -s sampleId1 -S sampleId2"
    echo "Usage: $script -p CPCT02080029 -s CPCT02080029T -S CPCT02080029TII"
    echo "---"
    exit 1
}

while getopts ":p:s:S:" o; do
    case "${o}" in
        p)
            patientId=${OPTARG} || usage
            ;;
	    s)
            sampleId1=${OPTARG} || usage
            ;;
	    S)
            sampleId2=${OPTARG} || usage
            ;;
        *)
            usage
            ;;
    esac
done

if [[ -z "${patientId}" || -z "${sampleId1}" || -z "${sampleId2}" ]]; then
    usage
fi

multipleBiopsySignatures.R ${patientId}
mutSignaturePerSample.R ${sampleId1} ${sampleId2}