#!/usr/bin/env bash

source message_functions || exit 1

run_dir=$1 && shift

if [[ -z "${run_dir}" ]]; then
    error "No run dir passed. Exiting";
fi

if [[ ! -d ${run_dir}/linx/plot ]]; then
    # See also DEV-2201
    warn "No linx plot dir found. Assume no drivers were found."
    mkdir -p ${run_dir}/linx/plot
fi

# See also DEV-2196
run_cuppa_prod ${run_dir}

# See also DEV-2195
generate_cup_report_pipeline ${run_dir}

# See also DEV-2027
run_orange_prod ${run_dir}