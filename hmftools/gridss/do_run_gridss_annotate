#!/bin/bash
#
# Performs GRIDSS preprocessing
#
source do_run_gridss_lib

if [[ ! -f $gridss_raw_vcf ]] ; then
	echo $(date) AnnotateVariants
	/usr/bin/time -o ${log_prefix}.AnnotateVariants.log \
	java -Xmx8G $gridss_jvm_args \
		-Dgridss.gridss.output_to_temp_file=true \
		gridss.AnnotateVariants \
		$gridss_common_args \
		INPUT=$normal_bam \
		INPUT=$tumor_bam \
		INPUT_VCF=$gridss_raw_vcf.unannotated.vcf \
		OUTPUT_VCF=$gridss_raw_vcf \
		ASSEMBLY=$assembly_bam \
		WORKER_THREADS=$threads \
		BLACKLIST=$blacklist \
		CONFIGURATION_FILE=$gridss_config_file
fi
