#!/usr/bin/env bash

setPath=$1
setName=$( basename ${setPath} )
destDir=./germline/${setName}

if [[ ! -d ${setPath} ]]; then echo "[EXIT] From dir not found ($setPath)" && exit 1; fi
if [[ ! -w $PWD ]]; then echo "[EXIT] Dir not writable ($PWD)" && exit 1; fi

## init
mkdir -p ${destDir}

## gather info
echo "[INFO] Symlinking Germline VCF (and tbi index) for ${setName}"
for germlineVcfPath in $( find ${setPath} -mindepth 1 -maxdepth 1 -name "*.annotated.vcf.gz" ); do
  ln -s "${germlineVcfPath}" ${destDir}
  ln -s "${germlineVcfPath}.tbi" ${destDir}
done

