#!/usr/bin/env bash

source locate_files

cram=$1 && shift

if [[ ! -f "${cram}" ]]; then
    echo "[ERROR] Cram is not a file: ${cram}. Exiting" && exit 1
fi

samtools=/data/common/tools/samtools_v1.10/samtools
ref_genome=$(locate_ref_genome_fasta_file)

echo "-----"
echo "## Printing header part"
${samtools} view -H "${cram}"

echo "-----"
echo "## Printing data part (head 3) with -T ref genome"
${samtools} view -T ${ref_genome} "${cram}" | head -3

echo "-----"
echo "## Printing data part (head 3) without -T ref genome"
${samtools} view "${cram}" | head -3
